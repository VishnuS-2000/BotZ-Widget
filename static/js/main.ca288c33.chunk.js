(this["webpackJsonpmy-widget"]=this["webpackJsonpmy-widget"]||[]).push([[0],{62:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n.n(c),o=n(49),l=n.n(o),s=(n(62),n(13)),r=n(11),d=n(54),b=n.n(d),i=n(52),u=n.n(i),j=n(50),m=n(25),x=Object(j.a)({apiKey:"AIzaSyDM19_KCp_-BSKPdZJjkVTS7rS00zUWkUE",authDomain:"botz-5e86b.firebaseapp.com",databaseURL:"https://botz-5e86b-default-rtdb.firebaseio.com",projectId:"botz-5e86b",storageBucket:"botz-5e86b.appspot.com",messagingSenderId:"114979646600",appId:"1:114979646600:web:dc434282b5b61e473ac33d",measurementId:"G-010RM283DY"}),f=Object(m.b)(x),h=n(95),p=n(51),g=n.n(p).a.create({baseURL:"http://127.0.0.1:8000"}),O=n.p+"static/media/botz.b8ef0ed6.png",y=n(10);function v(e){var t=e.domElement,n=Object(c.useState)(!1),a=Object(r.a)(n,2),o=a[0],l=a[1],d=Object(c.useState)([]),i=Object(r.a)(d,2),j=i[0],x=i[1],p=Object(c.useState)({}),v=Object(r.a)(p,2),S=v[0],N=v[1],z=Object(c.useState)(!1),k=Object(r.a)(z,2),C=k[0],I=k[1],D=Object(c.useState)(""),E=Object(r.a)(D,2),F=E[0],K=E[1],L=t.getAttribute("appId"),M=Object(m.a)(f,"users",L);Object(c.useEffect)((function(){Object(m.c)(M,(function(e){e.exists()&&N(e.data().bot),console.log(e.data())}))}),[]);var P=function(e){e.preventDefault(),I(!0);var t=function(e,t){var n={data:{intents:e},query:t},c=g.post("/predict",n);return c&&I(!1),console.log(c),c.data}(S.intents,F);console.log(t),x([].concat(Object(s.a)(j),[{id:Object(h.a)(),message:F,bot:!1},{id:Object(h.a)(),message:t.reply,bot:!0}])),K("")};return Object(y.jsxs)("div",{children:[o&&Object(y.jsxs)("div",{className:"flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0 rounded-3xl  justify-start  bg-white border self-end md:w-1/3 top-auto  lg:h-3/4 px-0 py-0",children:[Object(y.jsxs)("div",{className:"flex justify-between items-center w-full p-4 rounded-tr-xl rounded-tl-xl   bg-gradient-to-r ".concat(S.theme.start," ").concat(S.theme.end),children:[Object(y.jsx)("h1",{className:"text-2xl  text-gray-50",children:null===S||void 0===S?void 0:S.name}),Object(y.jsx)("button",{className:"text-2xl font-extrabold text-gray-50 ",onClick:function(){l(!1)},children:Object(y.jsx)(u.a,{style:{fontSize:"2.5rem"}})})]}),Object(y.jsxs)("div",{className:"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10",children:[j.map((function(e){return Object(y.jsx)(w,{bot:e.bot,content:e.message,theme:S.theme,name:S.name},e.id)})),C&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{bot:!1,content:F,theme:S.theme,name:S.name},Object(h.a)()),Object(y.jsx)(w,{bot:!0,content:null,theme:S.theme,name:S.name},Object(h.a)())]})]}),Object(y.jsxs)("div",{className:"flex justify-evenly py-2 bottom-0  w-full relative border-t border-gray-300 bg-gray-50",children:[Object(y.jsx)("input",{type:"text",className:"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl",value:F,placeholder:"Type a Message",onChange:function(e){K(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&P(e)}}),F&&Object(y.jsx)("button",{type:"submit",className:"px-5 py-3 rounded-full mr-5 drop-shadow cursor-pointer bg-gradient-to-r ".concat(S.theme.start," ").concat(S.theme.end),onClick:P,children:Object(y.jsx)(b.a,{style:{fontSize:"1.rem",color:"white"}})})]})]}),!o&&Object(y.jsx)("button",{className:"  rounded-full text-2xl font-bold fixed bottom-5 right-5 z-50",onClick:function(){l(!o)},children:Object(y.jsx)("img",{src:O,width:60,height:60,className:""})})]})}var w=function(e){var t=e.content,n=e.bot,a=e.theme,o=e.name,l=Object(c.useState)(!0),s=Object(r.a)(l,2),d=s[0],b=s[1];return Object(c.useEffect)((function(){t&&b(!1)}),[]),Object(y.jsxs)("div",{className:n?"flex flex-col flex-wrap w-fit text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r ".concat(a.start," ").concat(a.end," rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start"):"flex flex-col flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl w-fit self-end",children:[Object(y.jsx)("div",{children:n?Object(y.jsx)("p",{children:o}):Object(y.jsx)("p",{children:"You"})}),d?Object(y.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:"..."}):Object(y.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:t})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),o(e),l(e)}))},N=document.querySelector(".chatbot");console.log("Div: ",N),l.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(v,{domElement:N})}),N),S()}},[[86,1,2]]]);
//# sourceMappingURL=main.ca288c33.chunk.js.map