(this["webpackJsonpmy-widget"]=this["webpackJsonpmy-widget"]||[]).push([[0],{63:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(49),o=n.n(r),s=(n(63),n(13)),l=n(3),i=n(11),b=n(0),d=n.n(b),u=n(54),j=n.n(u),x=n(52),m=n.n(x),f=n(55),p=n.n(f),h=n(50),g=n(25),O=Object(h.a)({apiKey:"AIzaSyDM19_KCp_-BSKPdZJjkVTS7rS00zUWkUE",authDomain:"botz-5e86b.firebaseapp.com",databaseURL:"https://botz-5e86b-default-rtdb.firebaseio.com",projectId:"botz-5e86b",storageBucket:"botz-5e86b.appspot.com",messagingSenderId:"114979646600",appId:"1:114979646600:web:dc434282b5b61e473ac33d",measurementId:"G-010RM283DY"}),y=Object(g.b)(O),v=n(96),w=n(51),S=n.n(w).a.create({baseURL:"http://127.0.0.1:8000"}),N=n(10);function k(e){var t=e.domElement,n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(a.useState)([]),u=Object(i.a)(b,2),x=u[0],f=u[1],h=Object(a.useState)({}),O=Object(i.a)(h,2),w=O[0],k=O[1],C=Object(a.useState)(!1),I=Object(i.a)(C,2),D=I[0],E=I[1],F=Object(a.useState)(""),K=Object(i.a)(F,2),L=K[0],M=K[1],P=t.getAttribute("appId"),T=Object(g.a)(y,"users",P);Object(a.useEffect)((function(){Object(g.c)(T,(function(e){e.exists()&&k(e.data().bot),console.log(e.data())}))}),[]);var U=function(){var e=Object(l.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:{intents:t},query:n},e.next=3,S.post("/predict",a);case 3:return(c=e.sent)&&E(!1),console.log(c),e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.next=4,U(w.intents,L);case 4:n=e.sent,console.log(n),f([].concat(Object(s.a)(x),[{id:Object(v.a)(),message:L,bot:!1},{id:Object(v.a)(),message:n.reply,bot:!0}])),M("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[r&&Object(N.jsxs)("div",{className:"flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0 rounded-3xl  justify-start  bg-white border self-end md:w-1/3 top-auto  lg:h-3/4 px-0 py-0",children:[Object(N.jsxs)("div",{className:"flex justify-between items-center w-full p-4 rounded-tr-xl rounded-tl-xl   bg-gradient-to-r ".concat(w.theme.start," ").concat(w.theme.end),children:[Object(N.jsx)("h1",{className:"text-2xl  text-gray-50",children:null===w||void 0===w?void 0:w.name}),Object(N.jsx)("button",{className:"text-2xl font-extrabold text-gray-50 ",onClick:function(){o(!1)},children:Object(N.jsx)(m.a,{style:{fontSize:"2.5rem"}})})]}),Object(N.jsxs)("div",{className:"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10",children:[x.map((function(e){return Object(N.jsx)(z,{bot:e.bot,content:e.message,theme:w.theme,name:w.name},e.id)})),D&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(z,{bot:!1,content:L,theme:w.theme,name:w.name},Object(v.a)()),Object(N.jsx)(z,{bot:!0,content:null,theme:w.theme,name:w.name},Object(v.a)())]})]}),Object(N.jsxs)("div",{className:"flex justify-evenly py-2 bottom-0  w-full relative border-t border-gray-300 bg-gray-50",children:[Object(N.jsx)("input",{type:"text",className:"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl",value:L,placeholder:"Type a Message",onChange:function(e){M(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&B(e)}}),L&&Object(N.jsx)("button",{type:"submit",className:"px-5 py-3 rounded-full mr-5 drop-shadow cursor-pointer bg-gradient-to-r ".concat(w.theme.start," ").concat(w.theme.end),onClick:B,children:Object(N.jsx)(j.a,{style:{fontSize:"1.rem",color:"white"}})})]})]}),!r&&Object(N.jsx)("button",{className:"rounded-full text-2xl bg-gray-200 px-3 cursor-pointer drop-shadow-lg py-3 font-bold fixed bottom-5 right-5 z-50 transition-all duration-500 hover:bg-gray-300",onClick:function(){o(!r)},children:Object(N.jsx)(p.a,{style:{fontSize:"2.5rem"}})})]})}var z=function(e){var t=e.content,n=e.bot,c=e.theme,r=e.name,o=Object(a.useState)(!0),s=Object(i.a)(o,2),l=s[0],b=s[1];return Object(a.useEffect)((function(){t&&b(!1)}),[]),Object(N.jsxs)("div",{className:n?"flex flex-col flex-wrap w-fit text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r ".concat(c.start," ").concat(c.end," rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start"):"flex flex-col flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl w-fit self-end",children:[Object(N.jsx)("div",{children:n?Object(N.jsx)("p",{children:r}):Object(N.jsx)("p",{children:"You"})}),l?Object(N.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:"..."}):Object(N.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:t})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},I=document.querySelector(".chatbot");console.log("Div: ",I),o.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(k,{domElement:I})}),I),C()}},[[87,1,2]]]);
//# sourceMappingURL=main.fb58df6f.chunk.js.map