(this["webpackJsonpmy-widget"]=this["webpackJsonpmy-widget"]||[]).push([[0],{62:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),o=n(49),r=n.n(o),s=(n(62),n(13)),l=n(3),b=n(10),i=n(0),u=n.n(i),d=n(54),j=n.n(d),f=n(52),x=n.n(f),p=n(50),m=n(25),g=Object(p.a)({apiKey:"AIzaSyDM19_KCp_-BSKPdZJjkVTS7rS00zUWkUE",authDomain:"botz-5e86b.firebaseapp.com",databaseURL:"https://botz-5e86b-default-rtdb.firebaseio.com",projectId:"botz-5e86b",storageBucket:"botz-5e86b.appspot.com",messagingSenderId:"114979646600",appId:"1:114979646600:web:dc434282b5b61e473ac33d",measurementId:"G-010RM283DY"}),O=Object(m.b)(g),h=n(95),v=n(51),y=n.n(v).a.create({baseURL:"http://127.0.0.1:8000"}),w=n(11);function S(e){var t=e.domElement,n=Object(a.useState)(!1),c=Object(b.a)(n,2),o=c[0],r=c[1],i=Object(a.useState)([]),d=Object(b.a)(i,2),f=d[0],p=d[1],g=Object(a.useState)({}),v=Object(b.a)(g,2),S=v[0],k=v[1],z=Object(a.useState)(!1),C=Object(b.a)(z,2),I=C[0],E=C[1],D=Object(a.useState)(),F=Object(b.a)(D,2),L=F[0],M=F[1],T=t.getAttribute("appId"),U=Object(m.a)(O,"users",T);Object(a.useEffect)((function(){Object(m.c)(U,(function(e){e.exists()&&k(e.data().bot),console.log(e.data())}))}),[]);var A=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:{intents:t},query:n},e.next=3,y.post("/predict",a);case 3:return(c=e.sent)&&E(!1),console.log(c),e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(L),E(!0),e.next=5,A(S.intents,L);case 5:n=e.sent,console.log(n),p([].concat(Object(s.a)(f),[{id:Object(h.a)(),message:L,bot:!1},{id:Object(h.a)(),message:n.reply,bot:!0}])),M("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[o&&Object(w.jsxs)("div",{className:"flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0  justify-start  bg-white border self-end md:w-1/3 top-auto lg:h-3/4 px-0 py-0",children:[Object(w.jsxs)("div",{className:"flex justify-between items-center w-full p-4   bg-gradient-to-r from-blue-500 to-indigo-800 ",children:[Object(w.jsx)("h1",{className:"text-2xl font-extrabold text-gray-50",children:null===S||void 0===S?void 0:S.name}),Object(w.jsx)("button",{className:"text-2xl font-extrabold text-gray-50 ",onClick:function(){r(!1)},children:Object(w.jsx)(x.a,{style:{fontSize:"2.5rem"}})})]}),Object(w.jsxs)("div",{className:"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10",children:[f.map((function(e){return Object(w.jsx)(N,{bot:e.bot,content:e.message},e.id)})),I&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N,{bot:!1,content:L},Object(h.a)()),Object(w.jsx)(N,{bot:!0,content:null},Object(h.a)())]})]}),Object(w.jsxs)("div",{className:"flex justify-evenly bottom-0  w-full relative border-t border-gray-300 bg-gray-50",children:[Object(w.jsx)("input",{type:"text",className:"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl",value:L,placeholder:"Type a Message",onChange:function(e){M(e.target.value)}}),L&&Object(w.jsx)("button",{type:"submit",className:"relative py-2 px-4 rounded-full  drop-shadow cursor-pointer",onClick:B,children:Object(w.jsx)(j.a,{style:{fontSize:"2rem",color:"blue"}})})]})]}),!o&&Object(w.jsx)("button",{className:"bg-gradient-to-r from-blue-500 to-indigo-800 px-5 py-3 rounded-full text-2xl font-bold fixed bottom-5 right-5 z-50",onClick:function(){r(!o)},children:Object(w.jsx)("h1",{children:"Z"})})]})}function N(e){var t=e.content,n=e.bot,c=Object(a.useState)(!0),o=Object(b.a)(c,2),r=o[0],s=o[1];return Object(a.useEffect)((function(){t&&s(!1)}),[]),Object(w.jsx)("div",{className:n?"flex flex-wrap  text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r from-blue-500 to-indigo-800 rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start":"flex flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl self-end",children:r?Object(w.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:"..."}):Object(w.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:t})})}var k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))},z=document.querySelectorAll(".chatbot");console.log(z),z.forEach((function(e){return r.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(S,{domElement:e})}),e)})),k()}},[[86,1,2]]]);
//# sourceMappingURL=main.f94637e8.chunk.js.map