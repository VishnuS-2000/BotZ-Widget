(this["webpackJsonpmy-widget"]=this["webpackJsonpmy-widget"]||[]).push([[0],{62:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n.n(c),r=n(49),o=n.n(r),s=(n(62),n(13)),l=n(3),i=n(11),b=n(0),d=n.n(b),u=n(54),j=n.n(u),x=n(52),m=n.n(x),f=n(50),p=n(25),h=Object(f.a)({apiKey:"AIzaSyDM19_KCp_-BSKPdZJjkVTS7rS00zUWkUE",authDomain:"botz-5e86b.firebaseapp.com",databaseURL:"https://botz-5e86b-default-rtdb.firebaseio.com",projectId:"botz-5e86b",storageBucket:"botz-5e86b.appspot.com",messagingSenderId:"114979646600",appId:"1:114979646600:web:dc434282b5b61e473ac33d",measurementId:"G-010RM283DY"}),O=Object(p.b)(h),g=n(95),y=n(51),v=n.n(y).a.create({baseURL:"http://127.0.0.1:8000"}),w=n.p+"static/media/botz.b8ef0ed6.png",S=n(10);function N(e){var t=e.domElement,n=Object(c.useState)(!1),a=Object(i.a)(n,2),r=a[0],o=a[1],b=Object(c.useState)([]),u=Object(i.a)(b,2),x=u[0],f=u[1],h=Object(c.useState)({}),y=Object(i.a)(h,2),N=y[0],z=y[1],C=Object(c.useState)(!1),I=Object(i.a)(C,2),D=I[0],E=I[1],F=Object(c.useState)(""),K=Object(i.a)(F,2),L=K[0],M=K[1],P=t.getAttribute("appId"),T=Object(p.a)(O,"users",P);Object(c.useEffect)((function(){Object(p.c)(T,(function(e){e.exists()&&z(e.data().bot),console.log(e.data())}))}),[]);var U=function(){var e=Object(l.a)(d.a.mark((function e(t,n){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={data:{intents:t},query:n},e.next=3,v.post("/predict",c);case 3:return(a=e.sent)&&E(!1),console.log(a),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.next=4,U(N.intents,L);case 4:n=e.sent,console.log(n),f([].concat(Object(s.a)(x),[{id:Object(g.a)(),message:L,bot:!1},{id:Object(g.a)(),message:n.reply,bot:!0}])),M("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[r&&Object(S.jsxs)("div",{className:"flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0 rounded-3xl  justify-start  bg-white border self-end md:w-1/3 top-auto  lg:h-3/4 px-0 py-0",children:[Object(S.jsxs)("div",{className:"flex justify-between items-center w-full p-4 rounded-tr-xl rounded-tl-xl   bg-gradient-to-r ".concat(N.theme.start," ").concat(N.theme.end),children:[Object(S.jsx)("h1",{className:"text-2xl  text-gray-50",children:null===N||void 0===N?void 0:N.name}),Object(S.jsx)("button",{className:"text-2xl font-extrabold text-gray-50 ",onClick:function(){o(!1)},children:Object(S.jsx)(m.a,{style:{fontSize:"2.5rem"}})})]}),Object(S.jsxs)("div",{className:"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10",children:[x.map((function(e){return Object(S.jsx)(k,{bot:e.bot,content:e.message,theme:N.theme,name:N.name},e.id)})),D&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(k,{bot:!1,content:L,theme:N.theme,name:N.name},Object(g.a)()),Object(S.jsx)(k,{bot:!0,content:null,theme:N.theme,name:N.name},Object(g.a)())]})]}),Object(S.jsxs)("div",{className:"flex justify-evenly py-2 bottom-0  w-full relative border-t border-gray-300 bg-gray-50",children:[Object(S.jsx)("input",{type:"text",className:"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl",value:L,placeholder:"Type a Message",onChange:function(e){M(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&B(e)}}),L&&Object(S.jsx)("button",{type:"submit",className:"px-5 py-3 rounded-full mr-5 drop-shadow cursor-pointer bg-gradient-to-r ".concat(N.theme.start," ").concat(N.theme.end),onClick:B,children:Object(S.jsx)(j.a,{style:{fontSize:"1.rem",color:"white"}})})]})]}),!r&&Object(S.jsx)("button",{className:"  rounded-full text-2xl font-bold fixed bottom-5 right-5 z-50",onClick:function(){o(!r)},children:Object(S.jsx)("img",{src:w,width:60,height:60,className:""})})]})}var k=function(e){var t=e.content,n=e.bot,a=e.theme,r=e.name,o=Object(c.useState)(!0),s=Object(i.a)(o,2),l=s[0],b=s[1];return Object(c.useEffect)((function(){t&&b(!1)}),[]),Object(S.jsxs)("div",{className:n?"flex flex-col flex-wrap w-fit text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r ".concat(a.start," ").concat(a.end," rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start"):"flex flex-col flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl w-fit self-end",children:[Object(S.jsx)("div",{children:n?Object(S.jsx)("p",{children:r}):Object(S.jsx)("p",{children:"You"})}),l?Object(S.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:"..."}):Object(S.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:t})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},C=document.querySelector(".chatbot");console.log("Div: ",C),o.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(N,{domElement:C})}),C),z()}},[[86,1,2]]]);
//# sourceMappingURL=main.28740e07.chunk.js.map