(this["webpackJsonpmy-widget"]=this["webpackJsonpmy-widget"]||[]).push([[0],{193:function(e,t,n){},418:function(e,t,n){"use strict";n.r(t);n(131);var a=n(6),c=n.n(a),r=n(179),o=n.n(r),s=(n(193),n(18)),l=n(3),i=n(13),d=n(0),b=n.n(d),u=n(184),j=n.n(u),x=n(182),m=n.n(x),f=n(185),p=n.n(f),h=n(180),g=n(77),O=Object(h.a)({apiKey:"AIzaSyDM19_KCp_-BSKPdZJjkVTS7rS00zUWkUE",authDomain:"botz-5e86b.firebaseapp.com",databaseURL:"https://botz-5e86b-default-rtdb.firebaseio.com",projectId:"botz-5e86b",storageBucket:"botz-5e86b.appspot.com",messagingSenderId:"114979646600",appId:"1:114979646600:web:dc434282b5b61e473ac33d",measurementId:"G-010RM283DY"}),y=Object(g.b)(O),v=n(427),w=n(181),S=n.n(w).a.create({baseURL:"http://127.0.0.1:8000"}),N=(n.p,n(12));function k(e){var t=e.domElement,n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],o=c[1],d=Object(a.useState)([]),u=Object(i.a)(d,2),x=u[0],f=u[1],h=Object(a.useState)({}),O=Object(i.a)(h,2),w=O[0],k=O[1],C=Object(a.useState)(!1),I=Object(i.a)(C,2),E=I[0],D=I[1],F=Object(a.useState)(""),B=Object(i.a)(F,2),K=B[0],L=B[1],M=t.getAttribute("appId"),P=Object(g.a)(y,"users",M);Object(a.useEffect)((function(){Object(g.c)(P,(function(e){e.exists()&&k(e.data().bot),console.log(e.data())}))}),[]);var T=function(){var e=Object(l.a)(b.a.mark((function e(t,n){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:{intents:t},query:n},e.next=3,S.post("/predict",a);case 3:return(c=e.sent)&&D(!1),console.log(c),e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),D(!0),e.next=4,T(w.intents,K);case 4:n=e.sent,console.log(n),f([].concat(Object(s.a)(x),[{id:Object(v.a)(),message:K,bot:!1},{id:Object(v.a)(),message:n.reply,bot:!0}])),L("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[r&&Object(N.jsxs)("div",{className:"flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0 rounded-3xl  justify-start  bg-white border self-end md:w-1/3 top-auto  lg:h-3/4 px-0 py-0",children:[Object(N.jsxs)("div",{className:"flex justify-between items-center w-full p-4 rounded-tr-xl rounded-tl-xl   bg-gradient-to-r ".concat(w.theme.start," ").concat(w.theme.end),children:[Object(N.jsx)("h1",{className:"text-2xl  text-gray-50",children:null===w||void 0===w?void 0:w.name}),Object(N.jsx)("button",{className:"text-2xl font-extrabold text-gray-50 ",onClick:function(){o(!1)},children:Object(N.jsx)(m.a,{style:{fontSize:"2.5rem"}})})]}),Object(N.jsxs)("div",{className:"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10",children:[x.map((function(e){return Object(N.jsx)(z,{bot:e.bot,content:e.message,theme:w.theme,name:w.name},e.id)})),E&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(z,{bot:!1,content:K,theme:w.theme,name:w.name},Object(v.a)()),Object(N.jsx)(z,{bot:!0,content:null,theme:w.theme,name:w.name},Object(v.a)())]})]}),Object(N.jsxs)("div",{className:"flex justify-evenly py-2 bottom-0  w-full relative border-t border-gray-300 bg-gray-50",children:[Object(N.jsx)("input",{type:"text",className:"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl",value:K,placeholder:"Type a Message",onChange:function(e){L(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&U(e)}}),K&&Object(N.jsx)("button",{type:"submit",className:"px-5 py-3 rounded-full mr-5 drop-shadow cursor-pointer bg-gradient-to-r ".concat(w.theme.start," ").concat(w.theme.end),onClick:U,children:Object(N.jsx)(j.a,{style:{fontSize:"1.rem",color:"white"}})})]})]}),!r&&Object(N.jsx)("button",{className:"rounded-full text-2xl bg-gray-200 px-3 cursor-pointer drop-shadow-lg py-3 font-bold fixed bottom-5 right-5 z-50 transition-all duration-500 hover:bg-gray-300",onClick:function(){o(!r)},children:Object(N.jsx)(p.a,{style:{fontSize:"2.5rem"}})})]})}var z=function(e){var t=e.content,n=e.bot,c=e.theme,r=e.name,o=Object(a.useState)(!0),s=Object(i.a)(o,2),l=s[0],d=s[1];return Object(a.useEffect)((function(){t&&d(!1)}),[]),Object(N.jsxs)("div",{className:n?"flex flex-col flex-wrap w-fit text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r ".concat(c.start," ").concat(c.end," rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start"):"flex flex-col flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl w-fit self-end",children:[Object(N.jsx)("div",{children:n?Object(N.jsx)("p",{children:r}):Object(N.jsx)("p",{children:"You"})}),l?Object(N.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:"..."}):Object(N.jsx)("p",{className:"text-sm font-medium lg:text-lg",children:t})]})},C=(n(215),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,428)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))}),I=document.getElementById("chatbot");console.log("Div: ",I),o.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(k,{domElement:I})}),I),C()}},[[418,1,2]]]);
//# sourceMappingURL=main.921e7a4f.chunk.js.map