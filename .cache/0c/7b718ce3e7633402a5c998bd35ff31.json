{"id":"lY9v","dependencies":[{"name":"/home/vishnu/Desktop/chatbot/my-app/package.json","includedInParent":true,"mtime":1650108852819},{"name":"react","loc":{"line":1,"column":40,"index":40},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/react/index.js"},{"name":"@mui/icons-material/Send","loc":{"line":2,"column":21,"index":70},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/@mui/icons-material/Send.js"},{"name":"@mui/icons-material/MoreHoriz","loc":{"line":3,"column":26,"index":124},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/@mui/icons-material/MoreHoriz.js"},{"name":"./firebase","loc":{"line":5,"column":17,"index":175},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/src/firebase.js"},{"name":"firebase/firestore","loc":{"line":7,"column":31,"index":220},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/firebase/firestore/dist/index.esm.js"},{"name":"uuid","loc":{"line":9,"column":29,"index":272},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/uuid/dist/esm-browser/index.js"},{"name":"./chatapiService","loc":{"line":12,"column":20,"index":302},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/src/chatapiService.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=E;var e=f(require(\"react\")),t=u(require(\"@mui/icons-material/Send\")),r=u(require(\"@mui/icons-material/MoreHoriz\")),n=require(\"./firebase\"),a=require(\"firebase/firestore\"),o=require(\"uuid\"),l=u(require(\"./chatapiService\"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function c(e){return m(e)||d(e)||v(e)||s()}function s(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function d(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function m(e){if(Array.isArray(e))return x(e)}function p(e,t,r,n,a,o,l){try{var u=e[o](l),i=u.value}catch(f){return void r(f)}u.done?t(i):Promise.resolve(i).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function l(e){p(o,n,a,l,u,\"next\",e)}function u(e){p(o,n,a,l,u,\"throw\",e)}l(void 0)})}}function y(e,t){return w(e)||h(e,t)||v(e,t)||g()}function g(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function v(e,t){if(e){if(\"string\"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,o=[],l=!0,u=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(i){u=!0,a=i}finally{try{l||null==r.return||r.return()}finally{if(u)throw a}}return o}}function w(e){if(Array.isArray(e))return e}function E(u){var i=u.domElement,f=y((0,e.useState)(!1),2),s=f[0],d=f[1],m=y((0,e.useState)([]),2),p=m[0],g=m[1],v=y((0,e.useState)({}),2),x=v[0],h=v[1],w=y((0,e.useState)(!1),2),E=w[0],j=w[1],N=y((0,e.useState)(),2),k=N[0],O=N[1],A=i.getAttribute(\"appId\"),M=(0,a.doc)(n.db,\"users\",A);(0,e.useEffect)(function(){(0,a.onSnapshot)(M,function(e){e.exists()&&h(e.data().bot),console.log(e.data())})},[]);var q=function(){var e=b(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{intents:t},query:r},e.next=3,l.default.post(\"/predict\",n);case 3:return(a=e.sent)&&j(!1),console.log(a),e.abrupt(\"return\",a.data);case 7:case\"end\":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),P=function(){var e=b(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(k),j(!0),e.next=5,q(x.intents,k);case 5:r=e.sent,console.log(r),g([].concat(c(p),[{id:(0,o.v4)(),message:k,bot:!1},{id:(0,o.v4)(),message:r.reply,bot:!0}])),O(\"\");case 9:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return e.default.createElement(\"div\",null,s&&e.default.createElement(\"div\",{className:\"flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0  justify-start  bg-white border self-end md:w-1/3 top-auto lg:h-3/4 px-0 py-0\"},e.default.createElement(\"div\",{className:\"flex justify-between items-center w-full p-4   bg-gradient-to-r from-blue-500 to-indigo-800 \"},e.default.createElement(\"h1\",{className:\"text-2xl font-extrabold text-gray-50\"},null==x?void 0:x.name),e.default.createElement(\"button\",{className:\"text-2xl font-extrabold text-gray-50 \",onClick:function(){d(!1)}},e.default.createElement(r.default,{style:{fontSize:\"2.5rem\"}}))),e.default.createElement(\"div\",{className:\"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10\"},p.map(function(t){return e.default.createElement(S,{key:t.id,bot:t.bot,content:t.message})}),E&&e.default.createElement(e.default.Fragment,null,e.default.createElement(S,{key:(0,o.v4)(),bot:!1,content:k}),e.default.createElement(S,{key:(0,o.v4)(),bot:!0,content:null}))),e.default.createElement(\"div\",{className:\"flex justify-evenly bottom-0  w-full relative border-t border-gray-300 bg-gray-50\"},e.default.createElement(\"input\",{type:\"text\",className:\"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl\",value:k,placeholder:\"Type a Message\",onChange:function(e){O(e.target.value)}}),k&&e.default.createElement(\"button\",{type:\"submit\",className:\"relative py-2 px-4 rounded-full  drop-shadow cursor-pointer\",onClick:P},e.default.createElement(t.default,{style:{fontSize:\"2rem\",color:\"blue\"}})))),!s&&e.default.createElement(\"button\",{className:\"bg-gradient-to-r from-blue-500 to-indigo-800 px-5 py-3 rounded-full text-2xl font-bold fixed bottom-5 right-5 z-50\",onClick:function(){d(!s)}},e.default.createElement(\"h1\",null,\"Z\")))}function S(t){var r=t.content,n=t.bot,a=y((0,e.useState)(!0),2),o=a[0],l=a[1];return(0,e.useEffect)(function(){r&&l(!1)},[]),e.default.createElement(\"div\",{className:n?\"flex flex-wrap  text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r from-blue-500 to-indigo-800 rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start\":\"flex flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl self-end\"},o?e.default.createElement(\"p\",{className:\"text-sm font-medium lg:text-lg\"},\"...\"):e.default.createElement(\"p\",{className:\"text-sm font-medium lg:text-lg\"},r))}"},"sourceMaps":null,"error":null,"hash":"d05475a37b7fd5b77c468f8123a18a91","cacheData":{"env":{}}}