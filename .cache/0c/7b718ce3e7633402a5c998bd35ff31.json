{"id":"lY9v","dependencies":[{"name":"/home/vishnu/Desktop/chatbot/my-app/package.json","includedInParent":true,"mtime":1650117346309},{"name":"react","loc":{"line":1,"column":40,"index":40},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/react/index.js"},{"name":"@mui/icons-material/Send","loc":{"line":2,"column":21,"index":70},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/@mui/icons-material/Send.js"},{"name":"@mui/icons-material/MoreHoriz","loc":{"line":3,"column":26,"index":124},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/@mui/icons-material/MoreHoriz.js"},{"name":"./firebase","loc":{"line":5,"column":17,"index":175},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/src/firebase.js"},{"name":"firebase/firestore","loc":{"line":7,"column":31,"index":220},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/firebase/firestore/dist/index.esm.js"},{"name":"uuid","loc":{"line":9,"column":29,"index":272},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/node_modules/uuid/dist/esm-browser/index.js"},{"name":"./chatapiService","loc":{"line":12,"column":20,"index":302},"parent":"/home/vishnu/Desktop/chatbot/my-app/src/App.js","resolved":"/home/vishnu/Desktop/chatbot/my-app/src/chatapiService.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=E;var e=c(require(\"react\")),t=u(require(\"@mui/icons-material/Send\")),r=u(require(\"@mui/icons-material/MoreHoriz\")),n=require(\"./firebase\"),a=require(\"firebase/firestore\"),l=require(\"uuid\"),o=u(require(\"./chatapiService\"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(\"default\"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function f(e){return m(e)||d(e)||x(e)||s()}function s(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function d(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function m(e){if(Array.isArray(e))return g(e)}function p(e,t,r,n,a,l,o){try{var u=e[l](o),i=u.value}catch(c){return void r(c)}u.done?t(i):Promise.resolve(i).then(n,a)}function y(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var l=e.apply(t,r);function o(e){p(l,n,a,o,u,\"next\",e)}function u(e){p(l,n,a,o,u,\"throw\",e)}o(void 0)})}}function b(e,t){return w(e)||h(e,t)||x(e,t)||v()}function v(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function x(e,t){if(e){if(\"string\"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(i){u=!0,a=i}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}}function w(e){if(Array.isArray(e))return e}function E(u){var i=u.domElement,c=b((0,e.useState)(!1),2),s=c[0],d=c[1],m=b((0,e.useState)([]),2),p=m[0],v=m[1],x=b((0,e.useState)({}),2),g=x[0],h=x[1],w=b((0,e.useState)(!1),2),E=w[0],j=w[1],N=b((0,e.useState)(\"\"),2),k=N[0],O=N[1],A=i.getAttribute(\"appId\"),M=(0,a.doc)(n.db,\"users\",A);(0,e.useEffect)(function(){(0,a.onSnapshot)(M,function(e){e.exists()&&h(e.data().bot),console.log(e.data())})},[]);var q=function(){var e=y(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{intents:t},query:r},e.next=3,o.default.post(\"/predict\",n);case 3:return(a=e.sent)&&j(!1),console.log(a),e.abrupt(\"return\",a.data);case 7:case\"end\":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),P=function(){var e=y(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(k),j(!0),e.next=5,q(g.intents,k);case 5:r=e.sent,console.log(r),v([].concat(f(p),[{id:(0,l.v4)(),message:k,bot:!1},{id:(0,l.v4)(),message:r.reply,bot:!0}])),O(\"\");case 9:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return e.default.createElement(\"div\",null,s&&e.default.createElement(\"div\",{className:\"flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0  justify-start  bg-white border self-end md:w-1/3 top-auto lg:h-3/4 px-0 py-0\"},e.default.createElement(\"div\",{className:\"flex justify-between items-center w-full p-4   bg-gradient-to-r \".concat(g.theme.start,\" \").concat(g.theme.end)},e.default.createElement(\"h1\",{className:\"text-2xl  text-gray-50\"},null==g?void 0:g.name),e.default.createElement(\"button\",{className:\"text-2xl font-extrabold text-gray-50 \",onClick:function(){d(!1)}},e.default.createElement(r.default,{style:{fontSize:\"2.5rem\"}}))),e.default.createElement(\"div\",{className:\"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10\"},p.map(function(t){return e.default.createElement(S,{key:t.id,bot:t.bot,content:t.message,theme:g.theme,name:g.name})}),E&&e.default.createElement(e.default.Fragment,null,e.default.createElement(S,{key:(0,l.v4)(),bot:!1,content:k,theme:g.theme,name:g.name}),e.default.createElement(S,{key:(0,l.v4)(),bot:!0,content:null,theme:g.theme,name:g.name}))),e.default.createElement(\"div\",{className:\"flex justify-evenly py-2 bottom-0  w-full relative border-t border-gray-300 bg-gray-50\"},e.default.createElement(\"input\",{type:\"text\",className:\"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl\",value:k,placeholder:\"Type a Message\",onChange:function(e){O(e.target.value)}}),k&&e.default.createElement(\"button\",{type:\"submit\",className:\"px-5 py-3 rounded-full mr-5 drop-shadow cursor-pointer bg-gradient-to-r \".concat(g.theme.start,\" \").concat(g.theme.end),onClick:P},e.default.createElement(t.default,{style:{fontSize:\"1.rem\",color:\"white\"}})))),!s&&e.default.createElement(\"button\",{className:\"bg-gradient-to-r from-blue-500 to-indigo-800 px-5 py-3 rounded-full text-2xl font-bold fixed bottom-5 right-5 z-50\",onClick:function(){d(!s)}},e.default.createElement(\"h1\",null,\"Z\")))}var S=function(t){var r=t.content,n=t.bot,a=t.theme,l=t.name,o=b((0,e.useState)(!0),2),u=o[0],i=o[1];return(0,e.useEffect)(function(){r&&i(!1)},[]),e.default.createElement(\"div\",{className:n?\"flex flex-col flex-wrap w-fit text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r \".concat(a.start,\" \").concat(a.end,\" rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start\"):\"flex flex-col flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl w-fit self-end\"},e.default.createElement(\"div\",null,n?e.default.createElement(\"p\",null,l):e.default.createElement(\"p\",null,\"You\")),u?e.default.createElement(\"p\",{className:\"text-sm font-medium lg:text-lg\"},\"...\"):e.default.createElement(\"p\",{className:\"text-sm font-medium lg:text-lg\"},r))};"},"sourceMaps":null,"error":null,"hash":"05dadc46869fd4b538b139bbe595cf78","cacheData":{"env":{}}}