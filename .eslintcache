[{"C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\index.js":"1","C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\App.js":"2","C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\reportWebVitals.js":"3","C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\firebase.js":"4","C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\chatapiService.js":"5"},{"size":936,"mtime":1650186267853,"results":"6","hashOfConfig":"7"},{"size":5014,"mtime":1650189808898,"results":"8","hashOfConfig":"7"},{"size":375,"mtime":1650185862400,"results":"9","hashOfConfig":"7"},{"size":903,"mtime":1650185862400,"results":"10","hashOfConfig":"7"},{"size":133,"mtime":1650185862400,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"15hkmzg",{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\index.js",[],"C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\App.js",["23","24","25","26","27"],"import React ,{useState,useEffect} from 'react';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\r\n\r\nimport {db} from \"./firebase\"\r\n\r\nimport { onSnapshot,doc } from 'firebase/firestore';\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\nimport chatBot from './chatapiService';\r\n\r\nimport logo from \"./assets/images/botz.png\"\r\n\r\n\r\nexport default function App({domElement}){\r\n\r\n\r\n    const [showBot,setShowBot]=useState(false);\r\n\r\n\r\n    const [chats,setChats]=useState([])\r\n\r\n    const [bot,setBot]=useState({})\r\n\r\n\r\n    const[loading,setLoading]=useState(false)\r\n\r\n    const [message,setMessage]=useState(\"\")\r\n\r\n\r\n    const appId=domElement.getAttribute(\"appId\")\r\n\r\n    const docRef=doc(db,\"users\",appId)\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n      const unsub=onSnapshot(docRef,(snapshot)=>{\r\n\r\n            if(snapshot.exists()){\r\n\r\n                setBot(snapshot.data().bot)\r\n\r\n            }\r\n\r\n        console.log(snapshot.data())\r\n\r\n\r\n      })\r\n\r\n\r\n    },[])\r\n\r\n\r\n\r\n  const getResponse=async(intents,query)=>{\r\n\r\n\r\n    const training_data={\r\n        'data':{\r\n            'intents':intents\r\n        },\r\n        'query':query\r\n    }\r\n\r\n    \r\n\r\n    \r\n\r\n    const data=await chatBot.post(\"/predict\",training_data)\r\n  \r\n    if(data){\r\n      setLoading(false)\r\n    }\r\n\r\n    console.log(data)\r\n   return data.data \r\n    \r\n    }\r\n\r\n    const handleChange=(e)=>{\r\n\r\n      setMessage(e.target.value)\r\n      \r\n    }\r\n\r\n    const handlePress=(e)=>{\r\n\r\n      if(e.key==\"Enter\"){\r\n        handleSubmit(e)\r\n      }\r\n\r\n    }\r\n\r\n\r\n    const handleSubmit=async(e)=>{\r\n        e.preventDefault()\r\n        \r\n        setLoading(true)\r\n        const data=await getResponse(bot.intents,message)\r\n\r\n        console.log(data)\r\n        setChats([...chats,{id:uuidv4(),message:message,bot:false},{id:uuidv4(),message:data.reply,bot:true}])\r\n\r\n        setMessage(\"\")\r\n\r\n    \r\n\r\n    }\r\n\r\n\r\n \r\n    return (\r\n      <div>\r\n      \r\n      {showBot&&\r\n      <div className='flex flex-col  h-full w-full z-50  fixed right-0 bottom-0 top-0 rounded-3xl  justify-start  bg-white border self-end md:w-1/3 top-auto  lg:h-3/4 px-0 py-0'>\r\n        \r\n        {/* Chatbot Header */}\r\n  \r\n        <div className={`flex justify-between items-center w-full p-4 rounded-tr-xl rounded-tl-xl   bg-gradient-to-r ${bot.theme.start} ${bot.theme.end}`}>\r\n          <h1 className=\"text-2xl  text-gray-50\">{bot?.name}</h1>\r\n\r\n        <button className=\"text-2xl font-extrabold text-gray-50 \" onClick={()=>{setShowBot(false)}}><MoreHorizIcon style={{fontSize:\"2.5rem\"}}/></button>\r\n  \r\n       \r\n          </div>\r\n  \r\n          \r\n        {/* Chatbot Content Section */}\r\n  \r\n          <div className=\"flex relative top-0 bottom-50 w-full h-full flex-col overflow-y-auto  p-10\">\r\n  \r\n\r\n          {chats.map((chat)=>{\r\n\r\n                return <Chat key={chat.id} bot={chat.bot} content={chat.message} theme={bot.theme} name={bot.name}/>\r\n\r\n\r\n          })}\r\n\r\n          {loading&&<>\r\n            \r\n            <Chat key={uuidv4()} bot={false} content={message} theme={bot.theme}  name={bot.name}/>\r\n            <Chat key={uuidv4()} bot={true} content={null} theme={bot.theme}  name={bot.name}/>\r\n\r\n            </>}\r\n\r\n\r\n        \r\n\r\n          </div>\r\n  \r\n  \r\n               {/* Chatbot Input Section */}\r\n  \r\n          <div className=\"flex justify-evenly py-2 bottom-0  w-full relative border-t border-gray-300 bg-gray-50\">\r\n    \r\n          <input type=\"text\" className=\"p-5 h-full w-full outline-none  rounded-lg text-lg md:text-xl\" value={message} placeholder=\"Type a Message\" onChange={handleChange} onKeyPress={handlePress} />\r\n          {message&&<button type=\"submit\" className={`px-5 py-3 rounded-full mr-5 drop-shadow cursor-pointer bg-gradient-to-r ${bot.theme.start} ${bot.theme.end}`} onClick={handleSubmit} ><SendIcon style={{fontSize:\"1.rem\",color:\"white\"}}/></button>}\r\n\r\n          </div>\r\n      \r\n  \r\n        </div>}\r\n  \r\n               {/* Chatbot Show */}\r\n        \r\n        {!showBot&&<button className={`  rounded-full text-2xl font-bold fixed bottom-5 right-5 z-50`} onClick={()=>{setShowBot(!showBot)}}>\r\n            <img src={logo} width={60} height={60} className=\"\"/>\r\n          </button>}\r\n  \r\n  \r\n          \r\n  \r\n  \r\n      </div>\r\n    )\r\n\r\n}\r\n\r\nconst Chat=({content,bot,theme,name})=>{\r\n\r\n  const [loading,setLoading]=useState(true)\r\n  \r\n  \r\n  useEffect(()=>{\r\n  \r\n    if(content){\r\n      setLoading(false)\r\n    }\r\n  \r\n  },[])\r\n  \r\n    return <div className={bot?`flex flex-col flex-wrap w-fit text-gray-100  p-3 max-w-xs m-2 bg-gradient-to-r ${theme.start} ${theme.end} rounded-tl-2xl rounded-br-2xl rounded-tr-2xl self-start`:\"flex flex-col flex-wrap max-w-xs p-5 m-2 bg-gray-200 border rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl w-fit self-end\"}>\r\n      \r\n      <div >\r\n      {bot?<p>{name}</p>:<p>You</p>}\r\n      </div>\r\n      {loading?<p className='text-sm font-medium lg:text-lg'>...</p>:<p className=\"text-sm font-medium lg:text-lg\">{content}</p>}\r\n       \r\n      </div>\r\n  \r\n  \r\n\r\n  \r\n  }\r\n","C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\reportWebVitals.js",[],"C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\firebase.js",[],"C:\\Users\\LENOVO\\OneDrive\\Desktop\\botz-widget\\BotZ-Widget\\src\\chatapiService.js",[],{"ruleId":"28","severity":1,"message":"29","line":40,"column":13,"nodeType":"30","messageId":"31","endLine":40,"endColumn":18},{"ruleId":"32","severity":1,"message":"33","line":54,"column":7,"nodeType":"34","endLine":54,"endColumn":9,"suggestions":"35"},{"ruleId":"36","severity":1,"message":"37","line":91,"column":15,"nodeType":"38","messageId":"39","endLine":91,"endColumn":17},{"ruleId":"40","severity":1,"message":"41","line":172,"column":13,"nodeType":"42","endLine":172,"endColumn":66},{"ruleId":"32","severity":1,"message":"43","line":195,"column":5,"nodeType":"34","endLine":195,"endColumn":7,"suggestions":"44"},"no-unused-vars","'unsub' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'docRef'. Either include it or remove the dependency array.","ArrayExpression",["45"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'content'. Either include it or remove the dependency array.",["46"],{"desc":"47","fix":"48"},{"desc":"49","fix":"50"},"Update the dependencies array to be: [docRef]",{"range":"51","text":"52"},"Update the dependencies array to be: [content]",{"range":"53","text":"54"},[1004,1006],"[docRef]",[4437,4439],"[content]"]